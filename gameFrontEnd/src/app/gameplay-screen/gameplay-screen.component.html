<div class="container">
  <app-game-board
    [moves]="gameData.moves!"
    (movePlayed)="playMove($event)"
    class="game"
  ></app-game-board>

  <div *ngIf="winner" class="winnerBanner">
    <mat-card>
      <h1>{{ winner }}</h1>
    </mat-card>
    <a routerLink="">Home</a>
  </div>

  <mat-card class="gameChat">
    <mat-card-title class="gameChatTitle">
      <span class="titleCircle"></span> Game Chat
      <span class="titleCircle"></span>
    </mat-card-title>
    <mat-card-content class="gameChatContent">
      <div class="chatOutput" #chatOutput>
        <!-- loop through messages here -->
        <p *ngFor="let message of gameChatMessages">
          <span> {{ message.user }}:</span> {{ message.body }}
        </p>
      </div>
      <div class="chatInputControls">
        <form [formGroup]="messageForm" class="chatInputForm">
          <mat-form-field class="inputField">
            <mat-label>Say:</mat-label>
            <input
              matInput
              formControlName="message"
              (keydown.enter)="onSendMessage(messageForm)"
              #input
            />
          </mat-form-field>
        </form>
        <button
          type="button"
          (click)="onSendMessage(messageForm)"
          class="chatButton"
        >
          Send
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
